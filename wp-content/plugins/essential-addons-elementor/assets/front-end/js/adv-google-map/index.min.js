var AdvGoogleMap=function(e,a){if(window.eaelHasMapAPI=window.google?window.google:void 0,window.eaelHasMapAPI){var o=a("#"+e.find(".eael-google-map").attr("id")),l=o.data("id"),t=o.data("map_type"),r=o.data("map_address_type"),_=o.data("map_lat"),n=o.data("map_lng"),p=o.data("map_addr"),m=o.data("map_basic_marker_title"),g=o.data("map_basic_marker_content"),i=o.data("map_basic_marker_icon_enable"),s=o.data("map_basic_marker_icon"),d=o.data("map_basic_marker_icon_width"),c=o.data("map_basic_marker_icon_height"),k=o.data("map_zoom"),y=(o.data("map_marker_content"),o.data("map_markers")),f=o.data("map_static_width"),h=o.data("map_static_height"),w=o.data("map_static_lat"),S=o.data("map_static_lng"),u=o.data("map_polylines"),v=o.data("map_stroke_color"),M=o.data("map_stroke_opacity"),C=o.data("map_stroke_weight"),O=o.data("map_stroke_fill_color"),z=o.data("map_stroke_fill_opacity"),N=o.data("map_overlay_content"),b=o.data("map_routes_origin_lat"),I=o.data("map_routes_origin_lng"),J=o.data("map_routes_dest_lat"),G=o.data("map_routes_dest_lng"),E=o.data("map_routes_travel_mode"),F=o.data("map_panorama_lat"),R=o.data("map_panorama_lng"),W=JSON.parse(decodeURIComponent((o.data("map_theme")+"").replace(/\+/g,"%20"))),A=o.data("map_streeview_control"),U=o.data("map_type_control"),P=o.data("map_zoom_control"),T=o.data("map_fullscreen_control"),q=o.data("map_scroll_zoom"),x=new GMaps({el:"#eael-google-map-"+l,lat:_,lng:n,zoom:k,streetViewControl:A,mapTypeControl:U,zoomControl:P,fullscreenControl:T,scrollwheel:q});if(""!=W&&(x.addStyle({styledMapName:"Styled Map",styles:JSON.parse(W),mapTypeId:"map_style"}),x.setStyle("map_style")),"basic"==t){var H=""!=g?{content:g}:"";if("yes"==i)var V={url:s,scaledSize:new google.maps.Size(d,c)};else V=null;"address"==r?GMaps.geocode({address:p,callback:function(e,a){if("OK"==a){var o=e[0].geometry.location;x.setCenter(o.lat(),o.lng()),x.addMarker({lat:o.lat(),lng:o.lng(),title:m,infoWindow:H,icon:V})}}}):"coordinates"==r&&x.addMarker({lat:_,lng:n,title:m,infoWindow:H,icon:V})}if("marker"==t)if(0<(K=JSON.parse(decodeURIComponent((y+"").replace(/\+/g,"%20")))).length){var j=new GMaps({el:"#eael-google-map-"+l,lat:K[0].eael_google_map_marker_lat,lng:K[0].eael_google_map_marker_lng,zoom:k,streetViewControl:A,mapTypeControl:U,zoomControl:P,fullscreenControl:T,scrollwheel:q});j.setCenter(K[0].eael_google_map_marker_lat,K[0].eael_google_map_marker_lng),""!=W&&(j.addStyle({styledMapName:"Styled Map",styles:JSON.parse(W),mapTypeId:"map_style"}),j.setStyle("map_style")),K.forEach(function(e){if(""!=e.eael_google_map_marker_content)var a={content:e.eael_google_map_marker_content};else a="";if("yes"==e.eael_google_map_marker_icon_enable)var o={url:e.eael_google_map_marker_icon.url,scaledSize:new google.maps.Size(e.eael_google_map_marker_icon_width,e.eael_google_map_marker_icon_height)};else o="";j.addMarker({lat:parseFloat(e.eael_google_map_marker_lat),lng:parseFloat(e.eael_google_map_marker_lng),title:e.eael_google_map_marker_title,infoWindow:a,icon:o})})}if("static"==t){var K=JSON.parse(decodeURIComponent((y+"").replace(/\+/g,"%20"))),L=[];0<K.length&&K.forEach(function(e){L.push({lat:parseFloat(e.eael_google_map_marker_lat),lng:parseFloat(e.eael_google_map_marker_lng),color:e.eael_google_map_marker_icon_color})});var Q=GMaps.staticMapURL({size:[f,h],lat:w,lng:S,markers:L});a("<img />").attr("src",Q).appendTo("#eael-google-map-"+l)}if("polyline"==t){var Y=JSON.parse(decodeURIComponent((u+"").replace(/\+/g,"%20"))),K=JSON.parse(decodeURIComponent((y+"").replace(/\+/g,"%20"))),B=[],D=new GMaps({el:"#eael-google-map-"+l,lat:_,lng:n,zoom:k,center:{lat:-12.07635776902266,lng:-77.02792530422971}});Y.forEach(function(e){B.push([parseFloat(e.eael_google_map_polyline_lat),parseFloat(e.eael_google_map_polyline_lng)])});var X=JSON.parse(JSON.stringify(B));D.drawPolyline({path:X,strokeColor:v.toString(),strokeOpacity:M,strokeWeight:C}),K.forEach(function(e){if(""!=e.eael_google_map_marker_content)var a={content:e.eael_google_map_marker_content};else a="";if("yes"==e.eael_google_map_marker_icon_enable)var o={url:e.eael_google_map_marker_icon.url,scaledSize:new google.maps.Size(e.eael_google_map_marker_icon_width,e.eael_google_map_marker_icon_height)};else o="";D.addMarker({lat:e.eael_google_map_marker_lat,lng:e.eael_google_map_marker_lng,title:e.eael_google_map_marker_title,infoWindow:a,icon:o})}),""!=W&&(D.addStyle({styledMapName:"Styled Map",styles:JSON.parse(W),mapTypeId:"polyline_map_style"}),D.setStyle("polyline_map_style"))}if("polygon"==t){Y=JSON.parse(decodeURIComponent((u+"").replace(/\+/g,"%20"))),B=[];Y.forEach(function(e){B.push([parseFloat(e.eael_google_map_polyline_lat),parseFloat(e.eael_google_map_polyline_lng)])});X=JSON.parse(JSON.stringify(B));x.drawPolygon({paths:X,strokeColor:v.toString(),strokeOpacity:M,strokeWeight:C,fillColor:O.toString(),fillOpacity:z})}if("overlay"==t){if(""!=N)var Z='<div class="eael-gmap-overlay">'+N+"</div>";else Z="";x.drawOverlay({lat:_,lng:n,content:Z})}if("routes"==t)x.drawRoute({origin:[b,I],destination:[J,G],travelMode:E.toString(),strokeColor:v.toString(),strokeOpacity:M,strokeWeight:C}),0<(K=JSON.parse(decodeURIComponent((y+"").replace(/\+/g,"%20")))).length&&K.forEach(function(e){if(""!=e.eael_google_map_marker_content)var a={content:e.eael_google_map_marker_content};else a="";if("yes"==e.eael_google_map_marker_icon_enable)var o={url:e.eael_google_map_marker_icon.url,scaledSize:new google.maps.Size(e.eael_google_map_marker_icon_width,e.eael_google_map_marker_icon_height)};else o="";x.addMarker({lat:e.eael_google_map_marker_lat,lng:e.eael_google_map_marker_lng,title:e.eael_google_map_marker_title,infoWindow:a,icon:o})});if("panorama"==t)GMaps.createPanorama({el:"#eael-google-map-"+l,lat:F,lng:R})}else{var $=e.find(".eael-google-map").eq(0),ee=e.find(".google-map-notice").eq(0);$.css("display","none"),ee.html("Whoops! It' seems like you didn't set Google Map API key. You can set from <b>Elementor > Essential Addons > Elements > Advanced Google Map (Settings)</b>"),ee.addClass("alert alert-warning"),ee.css({"background-color":"#f2dede",color:"#a94442","font-size":"85%",padding:"15px","border-radius":"3px"})}};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/eael-google-map.default",AdvGoogleMap)});